<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>接雨水</title>
</head>
<body>
<script type="text/javascript">
  // 题目链接：https://leetcode-cn.com/problems/trapping-rain-water/

  /**
   * @param {number[]} height
   * @return {number}
   */
  const trap = function(height) {
    // let res = 0
    // for (let i = 0; i < height.length-2; i++) {
    //   if (Math.max(height[i], height[i+1], height[i+2]) !== height[i+1]) {
    //     res++
    //   } else continue
    // }
    // if (height.length>3 && height[height.length-1] > height[height.length-2]) res++
    // return res

    // 不断的寻找两边较大的数，相减
    let left = 0, right = height.length - 1
    let count = 0
    let leftMax = 0, rightMax = 0
    while (left <= right) {
      leftMax = Math.max(leftMax, height[left])
      rightMax = Math.max(rightMax, height[right])
      if (leftMax < rightMax) {
        count += leftMax - height[left]
        left++
      } else {
        count += rightMax - height[right]
        right--
      }
    }
    return count
  }
  
  const height = [2, 0, 2]
  console.log(trap(height))

</script>

</body>
</html>