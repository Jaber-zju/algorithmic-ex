<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>二进制求和</title>
</head>
<body>

<script type="text/javascript">
  // 题目链接：https://leetcode-cn.com/problems/add-binary/

  /**
   * @param {string} a
   * @param {string} b
   * @return {string}
   */
  const addBinary = function(a, b) {
    let max = 0
    let arr1 = a.split('')
    let arr2 = b.split('')

    // 将两个数组变成一样长度，短的那一个数组在最前面补0
    // 并得到数组的最大长度
    if (a.length > b.length) {
      max = a.length
      for (let i = 0; i < max - b.length; i++ ) {
        arr2.unshift('0')
      }
    } else if (b.length > a.length) {
      max = b.length
      for (let i = 0; i < max - a.length; i++ ) {
        arr1.unshift('0')
      }
    } else {
      max = a.length
    }
    // 声明结果数组，将结果数组填充为0，长度为之前的最大长度
    let res = []
    for (let i = 0; i < max; i++) {
      res.push('0')
    }

    // 循环遍历，直到第二位
    for (let i = max - 1; i > 0 ; i--) {
      // 得到两个数组与结果数组对应位元素之和，因为结果数组均为0，此和就是两个数组对应元素的和
      let sum = Number(arr1[i]) + Number(arr2[i]) + Number(res[i])
      // 如果和为2，则在结果数组中将此位置0，并将前一位元素+1
      if (sum === 2) {
        res[i] = '0'
        res[i-1] = (Number(res[i-1]) + 1) + ''
      } else if (sum === 3) {
        // 如果和为3，则在结果数组中将此位置1，并将前一位元素+1
        res[i] = '1'
        res[i-1] = (Number(res[i-1]) + 1) + ''
      } else {
        // 如果和为1或0，则将和赋给结果数组的此位元素
        res[i] = sum + ''
      }
    }
    // 对数组的首位元素相加
    let sum0 = Number(arr1[0]) + Number(arr2[0]) + Number(res[0])
    if (sum0 === 2) {
      // 如果首位元素的和为2，则在结果数组中将此位置0，并在结果数组的最前面加一个‘1’元素
      res[0] = '0'
      res.unshift('1')
    } else if (sum0 === 3) {
      // 如果首位元素的和为3，则在结果数组中将此位置1，并在结果数组的最前面加一个‘1’元素
      res[0] = '1'
      res.unshift('1')
    } else {
      // 如果首位元素的和为0\1，则在结果数组中将此位置为和
      res[0] = sum0 + ''
    }
    // 返回结果数组拼接而成的字符串
    return res.join('')
  };
  const a = "1111"
  const b = '1111'
  console.log(addBinary(a, b))


</script>
</body>
</html>
