<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>把字符串转换成整数</title>
</head>
<body>

<script type="text/javascript">
  // 题目链接：https://leetcode-cn.com/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/

  /**
   * @param {string} str
   * @return {number}
   */
  const strToInt = function (str) {
    // 方法一：暴力破解法，判断条件繁多，不便于阅读代码
    str = str.trim()
    console.log(str)
    let res = 0
    if (!str || str === '-' || str === '+' || str[1] === '-' || str[1] === '+' || str[1] === ' ') return 0
    let start = str[0]
    console.log(start)
    if (start === '-') {
      str = str.substring(1)
      res = 0 - parseInt(str)
    } else if (start === '+') {
      str = str.substring(1)
      res = parseInt(str)
    } else if (Number(start) !== 0 && !Number(start)) {
      return 0
    } else if (Number(start) || Number(start) === 0) {
      res = parseInt(str)
    }
    if (res < Math.pow(-2, 31)) return Math.pow(-2, 31)
    else if (res > Math.pow(2, 31) - 1) return Math.pow(2, 31) - 1
    else return res


    // 方法二：正则
    let res = str.match(/^\s*[+-]?\d+/)
    if (!res) return 0

    res = str.match(/^\s*[+-]?\d+/)[0].trim()
    if (res >= Math.pow(2, 31)) {
      return Math.pow(2, 31) - 1
    } else if (res <= Math.pow(-2, 31)) {
      return Math.pow(-2, 31)
    } else {
      return res
    }


    // 方法三：推荐！！
    str = str.trim()
    let res = parseInt(str)
    if (isNaN(res)) return 0

    let minValue = Math.pow(-2, 31)
    let maxValue = Math.pow(2, 31) - 1
    if (res < minValue) return minValue
    if (res > maxValue) return maxValue
    return res

  };
  const str = "-   123"
  console.log(strToInt(str))

</script>
</body>
</html>
