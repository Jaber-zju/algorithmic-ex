<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>链表中倒数第k个节点</title>
</head>
<body>

<script type="text/javascript">
  // 题目链接：https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/

  /**
   * Definition for singly-linked list.
   * function ListNode(val) {
   *     this.val = val;
   *     this.next = null;
   * }
   */
  /**
   * @param {ListNode} head
   * @param {number} k
   * @return {ListNode}
   */
  const getKthFromEnd = function (head, k) {
    // 双指针
    let former = head
    let latter = head
    let distance = 0
    while (true) {
      former = former.next
      distance++
      if (distance > k) latter = latter.next
      if (!former) return latter
    }


    // 遍历链表，得到链表长度n，然后再遍历链表走n-k步，即可得到所求的节点
    if (!head) return null
    let length = 0
    let position = 0
    let node1 = head
    let node2 = head
    while (node1) {
      node1 = node1.next
      length++
    }
    while (node2) {
      node2 = node2.next
      position++
      if (position === length - k + 1) return node2
    }


    // 方法三：栈方法：先将所有节点都压入栈，然后再出栈
    //栈方法
    var stack = []
    var ans = []
    //所有节点入栈
    while (head) {
      stack.push(head)
      head = head.next
    }
    //出栈第k个节点
    while (k > 0) {
      ans = stack.pop()
      k--
    }
    return ans


    // 方法四：map方法，将所有的节点放在map中，键名为i，键值为节点，最后取i-k的节点
    if (head == null)
      return null
    let map = new Map()
    let i = 0
    let currentNode = head
    while (currentNode) {
      map.set(i, currentNode)
      i++
      currentNode = currentNode.next
    }
    return (map.get(i - k))


  };

</script>
</body>
</html>
