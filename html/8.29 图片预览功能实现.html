<!DOCTYPE html>
<html>
<head>
  <title>图片预览功能实现</title>
</head>

<body>
  <input type="file" name="file" onchange="showPreview(this)"/>
  <img id="img" src="" width="400" height="350">

</body>

</html>
<script>
  function showPreview(source) {
    // input为type时，存在属性files,包含里面的文件信息
    let file = source.files[0]
    const img = document.getElementById("img")

    if (window.FileReader) {
      let reader = new FileReader()
      reader.onloadend = function (e) {
        img.src = e.target.result
      }
      if (file) {
        reader.readAsDataURL(file)
      } else {
        img.src = ""
      }
    }
  }
</script>
